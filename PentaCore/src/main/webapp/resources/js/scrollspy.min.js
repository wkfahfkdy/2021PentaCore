!function(t){function e(e,n,o,r){var i=t();return t.each(l,function(t,l){var u=l.offset().top+l.height(),c=l.offset().left,f=c+l.width(),a=u+l.height()-l.height(),s=!(c>n||r>f||u>o||e>a);s&&i.push(l)}),i}function n(){++f;var n=i.scrollTop(),o=i.scrollLeft(),r=o+i.width(),l=n+i.height(),c=e(n+a.top,r+a.right,l+a.bottom,o+a.left);t.each(c,function(t,e){var n=e.data("scrollSpy:ticks");"number"!=typeof n&&e.triggerHandler("scrollSpy:enter"),e.data("scrollSpy:ticks",f)}),t.each(u,function(t,e){var n=e.data("scrollSpy:ticks");"number"==typeof n&&n!==f&&(e.triggerHandler("scrollSpy:exit"),e.data("scrollSpy:ticks",null))}),u=c}function o(){i.trigger("scrollSpy:winSize")}function r(t,e,n){var o,r,i,l=null,u=0;n||(n={});var c=function(){u=n.leading===!1?0:s(),l=null,i=t.apply(o,r),o=r=null};return function(){var f=s();u||n.leading!==!1||(u=f);var a=e-(f-u);return o=this,r=arguments,0>=a?(clearTimeout(l),l=null,u=f,i=t.apply(o,r),o=r=null):l||n.trailing===!1||(l=setTimeout(c,a)),i}}var i=t(window),l=[],u=[],c=!1,f=0,a={top:0,right:0,bottom:0,left:0},s=Date.now||function(){return(new Date).getTime()};t.scrollSpy=function(e,o){e=t(e),e.each(function(e,n){l.push(t(n))}),o=o||{throttle:100},a.top=o.offsetTop||0,a.right=o.offsetRight||0,a.bottom=o.offsetBottom||0,a.left=o.offsetLeft||0;var u=r(n,o.throttle||100),f=function(){t(document).ready(u)};return c||(i.on("scroll",f),i.on("resize",f),c=!0),setTimeout(f,0),e},t.winSizeSpy=function(e){return t.winSizeSpy=function(){return i},e=e||{throttle:100},i.on("resize",r(o,e.throttle||100))},t.fn.scrollSpy=function(e){return t.scrollSpy(t(this),e)}}(jQuery);