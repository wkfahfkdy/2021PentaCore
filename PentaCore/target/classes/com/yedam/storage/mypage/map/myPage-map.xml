<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.mypage.map.myPage-map">
	<select id="noticeSelectList" resultType="MyPageVO" parameterType="MyPageVO">
		select * 
		from notice
		where store_code = #{store_code}
		order by notice_num desc
	</select>
	
	<select id="usedStorageList" resultType="MyPageVO" parameterType="MyPageVO">
		select u.*, s.storage_width, s.storage_height, s.storage_vertical, s.storage_name, o.offer_product,
				o.offer_wash, o.offer_premium
		from storage s join offer o
		on (s.storage_name = o.storage_name)
		join use_storage u
		on (u.offer_code = o.offer_code)
		join store t
		on(u.store_name = t.store_name)
		where u.member_id = #{member_id}
	</select>
	
	<select id="useStorage" resultType="MyPageVO" parameterType="MyPageVO">
		select store_name
		from use_storage
		where member_id = #{member_id}
	</select>
	
	<select id="offerSelectList" resultType="MyPageVO" parameterType="MyPageVO">
		select o.*, s.store_name
		from offer o, store s
		where o.store_name = s.store_name
    	and member_id = #{member_id}
	</select>
	
	<select id="myOfferSelect" resultType="MyPageVO" parameterType="MyPageVO">
		select * 
		from offer 
		where offer_code = #{offer_code}
	</select>
</mapper>